!function(){"use strict";var e=window.disqus_config;window.disqus_config=function(){e&&e.call(this),this.server_side={bin:"embed:promoted_discovery:dynamic:network_default_hidden:fallthrough",service:"dynamic",variant:"fallthrough",bottom_placement_url:"",engage_lite_html:"",forum_id:"4391123",experiment:"network_default_hidden",top_placement_url:"",engage_lite_url:""}}}(),!function(e,t){var n,i,r,o,s,a,l,c,u,d,f,h,g,p,m,v,y,w,b,_,S,E,I,T,C,A,x,O,L,k,H,N,D,V,U,M,B,P,R,q,F,W,j,z,Y={},G={},K={},Q={},$={},J={},X={},Z={};n=j=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i=z=function(){return function(e,t){var n=e.length,i=Array.prototype.forEach;if(isNaN(n))for(var r in e)j(e,r)&&t(e[r],r,e);else if(i)i.call(e,t);else for(var o=0;n>o;o++)t(e[o],o,e)}}(),r=function(){var e=0;return function(t){e+=1;var n=String(e);return t?t+n:n}}(),o=function(){var e=i,t=n,o=r,s=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},a=Object.keys||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var n=[];for(var i in e)t(e,i)&&(n[n.length]=i);return n},l=[].slice,c={on:function(e,t,n){if(!d(this,"on",e,[t,n])||!t)return this;this._events=this._events||{};var i=this._events[e]||(this._events[e]=[]);return i.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,n){if(!d(this,"once",e,[t,n])||!t)return this;var i=this,r=s(function(){i.off(e,r),t.apply(this,arguments)});return r._callback=t,this.on(e,r,n)},off:function(e,t,n){var i,r,o,s,l,c,u,f;if(!this._events||!d(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events={},this;for(s=e?[e]:a(this._events),l=0,c=s.length;c>l;l++)if(e=s[l],o=this._events[e]){if(this._events[e]=i=[],t||n)for(u=0,f=o.length;f>u;u++)r=o[u],(n&&n!==r.context||t&&t!==r.callback&&t!==r.callback._callback)&&i.push(r);i.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=l.call(arguments,1);if(!d(this,"trigger",e,t))return this;var n=this._events[e],i=this._events.all;return n&&f(n,t),i&&f(i,arguments),this},stopListening:function(e,t,n){var i=this._listeners;if(!i)return this;var r=!t&&!n;"object"==typeof t&&(n=this),e&&((i={})[e._listenerId]=e);for(var o in i)i[o].off(t,n,this),r&&delete this._listeners[o];return this}},u=/\s+/,d=function(e,t,n,i){if(!n)return!0;if("object"==typeof n){for(var r in n)e[t].apply(e,[r,n[r]].concat(i));return!1}if(u.test(n)){for(var o=n.split(u),s=0,a=o.length;a>s;s++)e[t].apply(e,[o[s]].concat(i));return!1}return!0},f=function(e,t){var n,i,r=e.length,o=t[0],s=t[1],a=t[2];switch(t.length){case 0:for(i=0;r>i;i++)(n=e[i]).callback.call(n.ctx);return;case 1:for(i=0;r>i;i++)(n=e[i]).callback.call(n.ctx,o);return;case 2:for(i=0;r>i;i++)(n=e[i]).callback.call(n.ctx,o,s);return;case 3:for(i=0;r>i;i++)(n=e[i]).callback.call(n.ctx,o,s,a);return;default:for(i=0;r>i;i++)(n=e[i]).callback.apply(n.ctx,t)}},h={listenTo:"on",listenToOnce:"once"};return e(h,function(e,t){c[t]=function(t,n,i){var r=this._listeners||(this._listeners={}),s=t._listenerId||(t._listenerId=o("l"));return r[s]=t,"object"==typeof n&&(i=this),t[e](n,i,this),this}}),c.bind=c.on,c.unbind=c.off,c}(),s=function(e){return"[object String]"===Object.prototype.toString.call(e)},a=function(e){return function(t){return z(Array.prototype.slice.call(arguments,1),function(n){for(var i in n)e(n,i)&&(t[i]=n[i])}),t}}(n),l=function(){function e(e){return e.replace(/\s+/g,"").toLowerCase()}var t=i,n=s,r=a;return function(i,o,s){var a={};n(o)?a[o]=s:a=o;var l=r({},a);t(l,function(t,n){var i=e(n);i!==n&&(delete l[n],l[i]=t),null===t&&(l[i]=""),void 0===t&&delete l[i]});var c=i.style;t(l,function(e,t){c.setProperty(t,String(e),"important")})}}(),c=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else{if(!e.attachEvent)throw new Error("No event support.");e.attachEvent("on"+t,n)}},u=function(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else{if(!e.detachEvent)throw new Error("No event support.");e.detachEvent("on"+t,n)}},d=function(e,t,n){n||(n=0);var i,r,o,s,a=0,l=function(){a=new Date,o=null,s=e.apply(i,r)};return function(){var c=new Date,u=t-(c-a);return i=this,r=arguments,0>=u?(clearTimeout(o),o=null,a=c,s=e.apply(i,r)):o||(o=setTimeout(l,u+n)),s}},Y=function(t){function i(e){return w.getElementById(e)||w.body||w.documentElement}var f=o,g=l,p=s,m=n,v=a,y=r,w=e.document,b={},_=w.createElement("a");t.getOffset=function(e,t){t=t||w.documentElement;for(var n=e,i=0,r=0;n&&n!==t;)i+=n.offsetLeft,r+=n.offsetTop,n=n.offsetParent;return{top:r,left:i,height:e.offsetHeight,width:e.offsetWidth}},t.getHost=function(e){return _.href=e,_.hostname},t.addEvent=c,t.removeEvent=u,t.throttle=d,t.addEvent(e,"message",function(e){var n,i=h;try{n=i.parse(e.data)}catch(e){return}var r=n.sender,o=m(b,r)&&b[r];o&&t.getHost(e.origin)===o.host&&(e.origin!==o.origin&&(o.origin=e.origin),"host"===n.scope&&o.trigger(n.name,n.data))},!1),t.addEvent(e,"hashchange",function(){t.trigger("window.hashchange",{hash:e.location.hash})},!1),t.addEvent(e,"resize",t.throttle(function(){t.trigger("window.resize")},250,50),!1),t.addEvent(w,"mousemove",t.throttle(function(){t.trigger("window.mousemove")},250,50),!1);var S=function(){t.trigger("window.scroll")};t.addEvent(e,"scroll",t.throttle(S,250,50)),t.addEvent(w,"click",function(){t.trigger("window.click")});var E=t.WindowBase=function(e){e=e||{},this.state=E.INIT,this.uid=e.uid||y("dsq-frame"),this.origin=e.origin,this.host=t.getHost(this.origin),this.target=e.target,this.window=null,b[this.uid]=this,this.on("ready",function(){this.state=E.READY},this),this.on("die",function(){this.state=E.KILLED},this)};v(E,{INIT:0,READY:1,KILLED:2,postMessage:function(e,t,n){return e.postMessage(t,n)}}),v(E.prototype,f),E.prototype.requiresWindow=function(e){var t=this;return function(){var n=Array.prototype.slice.call(arguments),i=function(){var r=t.window;r?e.apply(t,n):setTimeout(i,500)};t.isReady()?i():t.on("ready",i)}},E.prototype.sendMessage=function(e,t){var n=h,i=n.stringify({scope:"client",name:e,data:t});this.requiresWindow(function(e){E.postMessage(this.window,e,this.origin)})(i)},E.prototype.hide=function(){},E.prototype.show=function(){},E.prototype.url=function(){return this.target},E.prototype.destroy=function(){this.state=E.KILLED,this.off()},E.prototype.isReady=function(){return this.state===E.READY},E.prototype.isKilled=function(){return this.state===E.KILLED};var I=t.Popup=function(e){e.uid=e.windowName,E.call(this,e)};v(I.prototype,E.prototype),I.prototype.load=function(){var t=this.window=e.open("",this.uid||"_blank");t.location=this.url()},I.prototype.isKilled=function(){return E.prototype.isKilled()||this.window.closed};var T=t.Iframe=function(e){E.call(this,e),this.styles=e.styles||{},this.tabIndex=e.tabIndex||0,this.title=e.title||"Disqus",this.container=e.container,this.elem=null};v(T.prototype,E.prototype),T.prototype.load=function(){var e=this.elem=w.createElement("iframe");e.setAttribute("id",this.uid),e.setAttribute("name",this.uid),e.setAttribute("allowTransparency","true"),e.setAttribute("frameBorder","0"),e.setAttribute("scrolling","no"),this.role&&e.setAttribute("role",this.role),e.setAttribute("tabindex",this.tabIndex),e.setAttribute("title",this.title),this.setInlineStyle(this.styles)},T.prototype.getOffset=function(e){return t.getOffset(this.elem,e)},T.prototype.setInlineStyle=function(e,t){return g(this.elem,e,t)},T.prototype.removeInlineStyle=function(e){var t=this.elem.style;return"removeProperty"in t?void t.removeProperty(e):void(t[e]="")},T.prototype.hide=function(){this.setInlineStyle("display","none")},T.prototype.show=function(){this.removeInlineStyle("display")},T.prototype.destroy=function(){return this.elem&&this.elem.parentNode&&(this.elem.parentNode.removeChild(this.elem),this.elem=null),E.prototype.destroy.call(this)};var C=t.Channel=function(e){var t=this;t.window=null,T.call(t,e),this.insertBeforeEl=e.insertBeforeEl,this.insertAfterEl=e.insertAfterEl,t.styles=v({width:"1px","min-width":"100%",border:"none",overflow:"hidden",height:"0"},e.styles||{})};v(C.prototype,T.prototype),C.prototype.load=function(e){var n=this;T.prototype.load.call(n);var r=n.elem;r.setAttribute("width","100%"),r.setAttribute("src",this.url()),t.addEvent(r,"load",function(){n.window=r.contentWindow,e&&e()});var o=p(n.container)?i(n.container):n.container,s=(n.insertAfterEl?n.insertAfterEl.nextSibling:n.insertBeforeEl)||null;o.insertBefore(r,s)},C.prototype.destroy=function(){return this.window=null,T.prototype.destroy.call(this)};var A=t.Sandbox=function(e){T.call(this,e),this.contents=e.contents||"",this.styles=v({width:"100%",border:"none",overflow:"hidden"},e.styles||{})};return v(A.prototype,T.prototype),A.prototype.load=function(e){T.prototype.load.call(this);var t=this.elem,n=p(this.container)?i(this.container):this.container;n.appendChild(t),this.window=t.contentWindow;try{this.window.document.open()}catch(e){t.src='javascript:var d=document.open();d.domain="'+w.domain+'";void(0);'}return this.document=this.window.document,this.document.write(this.contents),this.document.close(),this.updateHeight(),e&&setTimeout(e,0),this},A.prototype.updateHeight=function(){var e,t=this.document.body;t&&(e=t.offsetHeight+"px",this.setInlineStyle({height:e,"min-height":e,"max-height":e}))},A.prototype.show=function(){this.setInlineStyle("display","block")},A.prototype.click=function(e){var n=this,i=n.document.body;t.addEvent(i,"click",function(t){e.call(n,t)})},A.prototype.setBodyClass=function(e){this.document.body.className=e},t.on=f.on,t.off=f.off,t.trigger=f.trigger,t}(Y),f=function(){var t=Y,n=new t.Sandbox({container:"disqus_thread",styles:{display:"none"}}).load();return function(t){try{return n.window[t]||e[t]}catch(n){return e[t]}}}(),h=function(){var t,n=f;return t="[object JSON]"===e.Object.prototype.toString.call(e.JSON)?e.JSON:n("JSON"),t?t:{}}(),G=function(e){var n=i;return e=function(e){var i=[];return n(e,function(e,n){e!==t&&i.push(n+(null===e?"":"="+encodeURIComponent(e)))}),i.join("&")}}(G),K=function(e){var t=G;return e=function e(n,i,r){if(i&&(-1===n.indexOf("?")?n+="?":"&"!==n.charAt(n.length-1)&&(n+="&"),n+=t(i)),r){var o={};return o[(new Date).getTime()]=null,e(n,o)}var s=n.length;return"&"===n.charAt(s-1)?n.slice(0,s-1):n}}(K),Q=function(t){var n=K,i=e.document,r=i.head||i.getElementsByTagName("head")[0]||i.body;return t=function(e,t,o){var s=i.createElement("script");s.src=n(e,t,o),s.async=!0,s.charset="UTF-8",r.appendChild(s)}}(Q),g=function(e){var t;return function(){return e&&(t=e.apply(this,arguments),e=null),t}},p=function(){function t(t){t=t||{};var n=t.Math||e.Math,i=t.Date||e.Date;try{var r=(new i).getTimezoneOffset(),o=1,s=e.screen;s&&s.availWidth?o=s.availWidth*s.availHeight+s.colorDepth:s&&s.width&&(o=s.width*s.height);var a=e.document.documentElement,l=a.clientWidth*a.clientHeight;return n.abs(17*r+25*o-l)}catch(e){return 1}}return{get:t}}(),m=function(t){function n(t){t=t||{};var n=t.Uint32Array||e.Uint32Array,i=t.crypto||e.crypto,r=t.Math||e.Math;try{var o=new n(1);return i.getRandomValues(o),o[0]}catch(e){return r.floor(1e9*r.random())}}function i(){var t=e.performance,n=t&&t.timing;if(!n)return 1e5;var i=n.domainLookupEnd-n.domainLookupStart,r=n.connectEnd-n.connectStart,o=n.responseStart-n.navigationStart;return 11*i+13*r+17*o}function r(r){r=r||{};var o=r.Math||e.Math,s=Number((new Date).getTime().toString().substring(3)),a=o.abs(s+i()-t.get()).toString(32);return a+=n(r).toString(32)}return{generate:r}}(p),v=function(){return e.getComputedStyle?function(t,n){try{return e.document.defaultView.getComputedStyle(t,null).getPropertyValue(n)}catch(e){return null}}:function(e,t,n){return e.currentStyle[t]||e.currentStyle[n]}}(),y=function(){function t(e){return e.replace(/\s+/g,"").toLowerCase()}function n(e){return e=e.replace(/^#([a-f0-9])([a-f0-9])([a-f0-9])$/,"#$1$1$2$2$3$3"),e=e.slice(1),{red:parseInt(e.slice(0,2),16),green:parseInt(e.slice(2,4),16),blue:parseInt(e.slice(4,6),16)}}function i(e){var t=e.match(/^rgb\((\d+),(\d+),(\d+)\)$/);return{red:parseInt(t[1],10),green:parseInt(t[2],10),blue:parseInt(t[3],10)}}function r(e){var t=e.match(/^rgba\((\d+),(\d+),(\d+),([\d.]+)\)$/);return{red:parseInt(t[1],10),green:parseInt(t[2],10),blue:parseInt(t[3],10),alpha:parseFloat(t[4])}}function o(t,n,i,r){return n=e.document.createElement(n),a(n,{visibility:"hidden",color:i}),t.appendChild(n),i=r(n),t.removeChild(n),i}function s(n,r){r=r||{};var s=r.container||e.document.body;return e.getComputedStyle?(n=o(s,"span",n,function(t){return e.getComputedStyle(t,null).getPropertyValue("color")}),i(t(n))):(n=o(s,"textarea",n,function(e){return e.createTextRange().queryCommandValue("ForeColor")}),{red:255&n,blue:n>>>16,green:(65280&n)>>>8})}var a=l;return function(e,o){e=t(e);var a;if("transparent"===e)return{red:0,green:0,blue:0,alpha:0};if("#"===e.charAt(0))a=n;else if("rgba("===e.slice(0,5))a=r;else if("rgb("===e.slice(0,4))a=i;else{if(!/^[a-z]+$/.test(e))throw new Error("parseColor received unparseable color: "+e);a=s}return a(e,o)}}(),w=function(){function n(e){if(!e||"embed.js"!==e.substring(e.length-8))return null;for(var t,n=[/(https?:)?\/\/(www\.)?disqus\.com\/forums\/([\w_\-]+)/i,/(https?:)?\/\/(www\.)?([\w_\-]+)\.disqus\.com/i,/(https?:)?\/\/(www\.)?dev\.disqus\.org\/forums\/([\w_\-]+)/i,/(https?:)?\/\/(www\.)?([\w_\-]+)\.dev\.disqus\.org/i],i=n.length,r=0;i>r;r++)if(t=e.match(n[r]),t&&t.length&&4===t.length)return t[3];return null}function i(e,t){var i,r,o,s=e.getElementsByTagName("script"),a=s.length;t=t||n;for(var l=a-1;l>=0;l--)if(i=s[l],r=i.getAttribute?i.getAttribute("src"):i.src,o=t(r),null!==o)return o.toLowerCase();return null}function r(e,t){var n,i,r=0,o=new Array(e.length);for(n=0;n<=e.length;n++)for(o[n]=new Array(t.length),i=0;i<=t.length;i++)o[n][i]=0;for(n=0;n<e.length;n++)for(i=0;i<t.length;i++)e[n]===t[i]&&(o[n+1][i+1]=o[n][i]+1,o[n+1][i+1]>r&&(r=o[n+1][i+1]));return r}function o(){for(var e=T.getElementsByTagName("h1"),n=T.title,i=n.length,o=n,s=.6,a=function(e){var a,l=e.textContent||e.innerText;null!==l&&l!==t&&(a=r(n,l)/i,a>s&&(s=a,o=l))},l=0;l<e.length;l++)a(e[l]);return o}function a(e){return e.toLowerCase().replace(/^\s+|\s+$/g,"").replace(/['"]/g,"")}function l(e){var t=0,n=1,i=2;if(!e.atob)return n;try{e.postMessage("ping","*")}catch(e){return i}return t}function c(t){(new e.Image).src=S(I+"/stat.gif",{event:t})}function u(t){(new e.Image).src=S(I+"/event.gif",t)}function d(e,t,n){n=n||t;var i=b(e,t,n);return!i||/color/i.test(t)&&0===_(i).alpha?e&&d(e.parentNode,t,n)||i:i||null}function f(e,t,n,i){w(t)&&(t=T.createElement(t));var r=null;return t.style.visibility="hidden",e.appendChild(t),r=d(t,n,i),e.removeChild(t),r}function h(e){for(var t,n=f(e,"span","font-family","fontFamily"),i=n.split(","),r={courier:1,times:1,"times new roman":1,georgia:1,palatino:1,serif:1},o=0;o<i.length;o++)if(t=a(i[o]),r.hasOwnProperty(t))return!0;return!1}function g(e){var t=T.createElement("a");return t.href=Number(new Date),_(f(e,t,"color"),{container:e})}function p(e){var t=e.red,n=e.green,i=e.blue;if(e.hasOwnProperty("alpha")){var r=e.alpha,o=function(e){return Math.round(e*r+255*(1-r))};t=o(t),n=o(n),i=o(i)}return(299*t+587*n+114*i)/1e3}function m(e){var t=f(e,"span","background-color","backgroundColor"),n=_(t,{container:e});return 0===n.alpha?"light":p(n)<128?"dark":"light"}var w=s,b=v,_=y,S=K,E=Y,I="https://referrer.disqus.com/juggler",T=e.document,C=function(){var e,t,n=function(){return!1};if("hidden"in T)e="hidden",t="visibilitychange";else{if(!("webkitHidden"in T))return{isHidden:n,listen:n,stopListening:n};e="webkitHidden",t="webkitvisibilitychange"}return{isHidden:function(){return T[e]},listen:function(e){return E.addEvent(T,t,e)},stopListening:function(e){return E.removeEvent(T,t,e)}}}(),A=function(){var e=T.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",T.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var n=T.createElement("div");n.style.width="100%",e.appendChild(n);var i=n.offsetWidth;return e.parentNode.removeChild(e),t-i},x=function(e){var t=e.split("."),n=t.length>2?t[t.length-2]:"";return n.match(/^[0-9a-f]{32}$/i)&&n},O={isIE:function(){return Boolean(T.documentMode)},isSafari:function(){var t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>-1&&-1===t.indexOf("chrome")}},L={getItem:function(t){try{return e.localStorage.getItem(t)}catch(e){}},setItem:function(t,n){try{return e.localStorage.setItem(t,n)}catch(e){}}},k=function(){var e=!1;return e||"https:"===T.location.protocol},H=1,N=function(e){if(e.nodeType===H){var t=b(e,"max-height","maxHeight"),n=b(e,"overflow-y","overflowY");return t&&"none"!==t&&n&&"visible"!==n}},D=4,V=function(e){return e.nodeType===H?e.scrollHeight-e.clientHeight>D:void 0},U=function(){if(T.querySelector){var e=T.querySelector("link[rel=canonical]");if(e)return e.href}};return{MAX_Z_INDEX:2147483647,getShortnameFromUrl:n,getForum:i,guessThreadTitle:o,getContrastYIQ:p,getColorScheme:m,getElementStyle:f,getAnchorColor:g,normalizeFontValue:a,isSerif:h,getBrowserSupport:l,logStat:c,reportJester:u,pageVisibility:C,getScrollbarWidth:A,getLoaderVersionFromUrl:x,browser:O,storage:L,defaultProtocol:k()?"https:":"http:",appearsToHideContent:N,hasOverflow:V,getCanonicalUrl:U}}(),b=function(){var e=i,n=m,r=f,o=w,s=function(e,n){this.win=e,this.configurator=n,this.config={page:{url:t,title:t,slug:t,category_id:t,identifier:t,language:t,api_key:t,remote_auth_s3:t,author_s3:t},experiment:{enable_scroll_container:!0,force_auto_styles:t,sort_order:t,force_mobile:t},server_side:{service:"static",experiment:"default",variant:"control",top_placement_url:t,bottom_placement_url:t,engage_lite_html:t,engage_lite_url:t,forum_id:t},discovery:{disable_all:t,disable_promoted:t,sponsored_comment_id:t,preview:!1,adsFixture:t,pdFixture:t},strings:t,sso:{},callbacks:{preData:[],preInit:[],onInit:[],afterRender:[],onReady:[],onNewComment:[],preReset:[],onPaginate:[],onIdentify:[],beforeComment:[]}}};s.DISQUS_GLOBALS=["shortname","identifier","url","title","category_id","slug"];var a=s.prototype;return a.getContainer=function(){var e=this.win;return e.document.getElementById(e.disqus_container_id||"disqus_thread")},a.runConfigurator=function(){var e=this.configurator||this.win.disqus_config;if("function"==typeof e)try{e.call(this.config)}catch(e){}},a.getValuesFromGlobals=function(){var t,n=this.win,i=this.config,r=i.page;e(s.DISQUS_GLOBALS,function(e){var t=n["disqus_"+e];"undefined"!=typeof t&&(r[e]=t)}),this.runConfigurator(),i.forum||(t=r.shortname,i.forum=t?t.toLowerCase():o.getForum(n.document))},a.toJSON=function(){var e,t=this.win,i=this.config,s=i.page,a=this.getContainer();return this.getValuesFromGlobals(),(i.server_side.top_placement_url||i.server_side.bottom_placement_url)&&(e=n.generate({Math:r("Math"),crypto:r("crypto"),Uint32Array:r("Uint32Array"),Date:r("Date")})),{impressionId:e||null,container:a,forum:i.forum,sortOrder:i.experiment.sort_order||o.storage.getItem("disqus.sort")||"default",language:i.language,typeface:o.isSerif(a)?"serif":"sans-serif",anchorColor:o.getAnchorColor(a),colorScheme:o.getColorScheme(a),canonicalUrl:o.getCanonicalUrl(),url:s.url||t.location.href.replace(/#.*$/,""),title:s.title,documentTitle:o.guessThreadTitle(),slug:s.slug,category:s.category_id,identifier:s.identifier,discovery:i.discovery,experimentName:i.server_side.experiment,experimentVariant:i.server_side.variant,experimentService:i.server_side.service,forumId:i.server_side.forum_id,topPlacementUrl:i.server_side.top_placement_url,bottomPlacementUrl:i.server_side.bottom_placement_url,apiKey:s.api_key,remoteAuthS3:s.remote_auth_s3,sso:i.sso,unsupported:o.getBrowserSupport(t),callbacks:i.callbacks,enableScrollContainer:i.experiment.enable_scroll_container,forceAutoStyles:i.experiment.force_auto_styles,forceMobile:i.experiment.force_mobile,engageLiteHTML:i.server_side.engage_lite_html,engageLiteURL:i.server_side.engage_lite_url}},{HostConfig:s}}(),_=function(){var e;return e="undefined"==typeof console?function(){}:"function"==typeof console.log?function(){return console.log(Array.prototype.slice.call(arguments,0).join(" "))}:function(){return console.log.apply(console,arguments)},{log:e}}(),S=function(e){try{return e.self!==e.top}catch(e){return!0}},E=function(e){return function(t){return Boolean(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&"hidden"!==e(t,"visibility"))}}(v),I=function(e,t,n){var i=function(){var r=e();return r?void t(r):void setTimeout(i,n)};i()},T=function(){var t=v,n=e.document.body;return function(){var e=n.offsetHeight,i=parseInt(t(n,"margin-top","marginTop"),10);i&&(e+=i);var r=parseInt(t(n,"margin-bottom","marginBottom"),10);return r&&(e+=r),e}}(),C=function(){var t=a,n=K,i="default",r={lounge:"http://disqus.com/embed/comments/",home:"https://disqus.com/home/".replace("home/","")},o=function(e,t){return/^http/.test(t)||(t="http:"),t+"//"+e.replace(/^\s*(\w+:)?\/\//,"")},s=function(s,a,l){var c=r[s];if(!c)throw new Error("Unknown app: "+s);var u=o(c,e.document.location.protocol),d=t({base:i},a||{}),f=l?"#"+encodeURIComponent(JSON.stringify(l)):"";return n(u,d)+f};return{BASE:i,apps:r,get:s,ensureHttpBasedProtocol:o}}(),A=function(){var t=o,i=v,s=T,l=E,c=a,u=n,d=r,f=C,h=Y,g=w,p=e.document,m=p.querySelector("html"),y=p.location.protocol,b=function(e){this.uid=d("dsq-app"),this.settings=e||{};var t=[],n=this.constructor.prototype;do t.unshift(n),n=n.constructor.__super__;while(n);for(var i=0,r=t.length;r>i;i++)n=t[i],u(n,"events")&&this.on(n.events,this),u(n,"onceEvents")&&this.once(n.onceEvents,this)};c(b.prototype,t),b.prototype.destroy=function(){this.off(),this.stopListening()},b.extend=function(e,t){var n,i=this;n=e&&u(e,"constructor")?e.constructor:function(){return i.apply(this,arguments)},c(n,i,t);var r=function(){this.constructor=n};return r.prototype=i.prototype,n.prototype=new r,e&&c(n.prototype,e),n.__super__=i.prototype,n};var _=b.extend({name:null,loaderVersion:null,frame:null,origin:f.ensureHttpBasedProtocol("http://disqus.com",y),state:null,getUrl:function(e,t){return e=this.loaderVersion?c({version:this.loaderVersion},e):c({disqus_version:"1a7cf18"},e),f.ensureHttpBasedProtocol(f.get(this.name,e,t),y)},getFrameSettings:function(){var e={target:this.getUrl(),origin:this.origin,uid:this.uid},t=this.settings;return t.windowName?e.windowName=t.windowName:e.container=t.container||p.body,e},getFrame:function(){var e=this.getFrameSettings(),t=e.windowName?h.Popup:h.Channel;return new t(e)},setState:function(e){var t=this.constructor;return e in t.states?(this.state=t.states[e],void this.trigger("state:"+e)):!1},init:function(){var e,t=this;t.frame=e=this.getFrame(),t.listenTo(e,"all",function(n,i){t.trigger("frame:"+n,i,e)}),t.trigger("change:frame",e),t.frame.load(function(){t.setState("LOADED")}),t.setState("INIT")},destroy:function(){var e=this.frame;e&&(this.stopListening(e),e.destroy()),this.setState("KILLED"),this.frame=null,b.prototype.destroy.call(this)},events:{"frame:ready":function(){this.setState("READY")}},isHeightRestricted:function(e){function t(){return g.appearsToHideContent(i)||o&&g.appearsToHideContent(r)}function n(){return g.appearsToHideContent(i)&&g.hasOverflow(i)||o&&g.appearsToHideContent(r)&&g.hasOverflow(r)}e=e||{};var i=this.settings.container,r=i.parentNode,o=r!==m&&r!==p.body;return e.checkScrollHeight?n():t()}},{states:{INIT:0,LOADED:1,READY:2,RUNNING:3,KILLED:4}}),S=_.extend({getUrl:function(){var t=this.settings,n={f:t.forum,t_i:t.identifier,t_u:t.url||e.location.href,t_s:t.slug,t_e:t.title,t_d:t.documentTitle,t_t:t.title||t.documentTitle,t_c:t.category,s_o:t.sortOrder,l:t.language};return t.unsupported&&(n.n_s=t.unsupported),_.prototype.getUrl.call(this,n)},getFrameInitParams:function(){var t=this.settings,n={permalink:t.permalink,anchorColor:t.anchorColor,referrer:e.location.href,hostReferrer:p.referrer,canonicalUrl:t.canonicalUrl,colorScheme:t.colorScheme,typeface:t.typeface,remoteAuthS3:t.remoteAuthS3,apiKey:t.apiKey,sso:t.sso,parentWindowHash:e.location.hash,forceAutoStyles:t.forceAutoStyles,forceMobile:t.forceMobile,layout:t.layout,timestamp:this.timestamp,embedLoadTime:this.getBootloaderTimingInfo(),isHeightRestricted:this.isHeightRestricted()};return n.initialPosition=this.getViewportAndScrollStatus(),n},listenToScrollEvent:function(e){var t=this,n=t.getScrollContainer();if(n===m)return t.listenTo(h,"window.scroll",e),function(){t.stopListening(h,"window.scroll",e)};var i=h.throttle(function(){e.call(t)},250,50);return h.addEvent(n,"scroll",i),function(){h.removeEvent(n,"scroll",i)}},getScrollContainer:function(){if(this.scrollContainer)return this.scrollContainer;if(!this.settings.enableScrollContainer)return m;var e=this.settings.container;do{var t=i(e,"overflow-y","overflowY");if(("scroll"===t||"auto"===t)&&e.clientHeight<e.scrollHeight)break;e=e.parentNode}while(e&&e!==m);return e&&e!==p.body||(e=m),this.scrollContainer=e},getViewportCoords:function(){return this.getScrollContainer()===m?this.getWindowCoords():this.getScrollContainerCoords()},getWindowCoords:function(){if("number"==typeof e.pageYOffset)this.getWindowScroll=function(){return e.pageYOffset},this.getWindowHeight=function(){return e.innerHeight};else{var t=m.clientHeight||m.clientWidth?m:p.body;this.getWindowScroll=function(){return t.scrollTop},this.getWindowHeight=function(){return t.clientHeight}}return this.getWindowCoords=function(){return{top:this.getWindowScroll(),height:this.getWindowHeight()}},this.getWindowCoords()},getScrollContainerCoords:function(){var e=this.getScrollContainer();return{top:e.scrollTop,height:e.clientHeight}},getBootloaderTimingInfo:function(){if(e.performance&&e.performance.getEntriesByName){var t=p.currentScript?p.currentScript.src:y+"//"+this.settings.forum+".disqus.com/embed.js",n=e.performance.getEntriesByName(t)[0];return n&&n.duration}},getViewportAndScrollStatus:function(){var e=this.frame;if(!e||!e.getOffset)return null;if(!l(e.elem))return null;var t=this.getViewportCoords();return{frameOffset:e.getOffset(this.getScrollContainer()),pageOffset:t.top,height:t.height}},communicateViewportAndScrollStatus:function(){var e=this.getViewportAndScrollStatus();if(e){var t=e.frameOffset,n=t.top,i=n+t.height,r=e.pageOffset,o=e.height,s=r+o,a=!1,l=!1;s+o>=n&&(a=i>=r,l=a&&s>=n);var c=this.frame;c.sendMessage("window.scroll.always",e),a&&c.sendMessage("window.scroll",e),l!==this.wasInViewport&&(c.sendMessage(l?"window.inViewport":"window.scrollOffViewport"),this.wasInViewport=l)}},getBestNextFrameHeight:function(e){var t=this.getViewportAndScrollStatus();if(!t||this.settings.enableScrollContainer||!this.getScrollContainer())return e;var n=t.frameOffset;if(e>=n.height)return e;var i=s(),r=i-(n.height+n.top),o=t.pageOffset+t.height-(n.top+r);return o>e?o+1:e},events:{"state:INIT":function(){this.settings.unsupported||(this.settings.windowName||(this.listenToScrollEvent(this.communicateViewportAndScrollStatus),this.listenTo(h,"window.resize",this.communicateViewportAndScrollStatus)),this.timestamp=Number(new Date))},"state:LOADED":function(){var e=this.frame,t=e.elem;this.settings.unsupported?(e.setInlineStyle("height","500px"),t.setAttribute("scrolling","yes"),t.setAttribute("horizontalscrolling","no"),t.setAttribute("verticalscrolling","yes"),e.show()):this.settings.windowName||(this.rendered=!1,e.setInlineStyle("height","0"),t.setAttribute("scrolling","no"),t.setAttribute("horizontalscrolling","no"),t.setAttribute("verticalscrolling","no"))},"frame:ready":function(e,t){var n=this.getFrameInitParams(e,t);t.sendMessage("init",n)},"frame:resize":function(e,t){var n=e.height;t.elem&&this.rendered&&(n=this.getBestNextFrameHeight(n),t.setInlineStyle("height",n+"px"),t.sendMessage("embed.resized")),this.communicateViewportAndScrollStatus()},"frame:rendered":function(e,t){this.rendered=!0,this.wasInViewport=!1,t.trigger("resize",e),t.sendMessage("embed.rendered")},"frame:fail":function(e,t){t.elem&&t.setInlineStyle("height",e&&e.height||"75px")},"frame:scrollTo":function(t,n){if(n.elem&&n.getOffset){var i=this.getScrollContainer(),r=n.getOffset(i),o="window"===t.relative?t.top:r.top+t.top,s=this.getViewportCoords();!t.force&&o>s.top&&o<s.top+s.height||(i===m?e.scrollTo(0,o):i.scrollTop=o)}}}});return{protocol:y,BaseApp:b,WindowedApp:_,ThreadBoundApp:S}}(),x=function(){var t=v,n=K,i=w,r=C,o=A.WindowedApp,s=e.document,a=/^calc\((.+)\)$/,l=o.extend({name:"home",events:{"frame:close":function(t,n){n.hide(),e.focus()},"frame:openReady":function(){this.frame.show(),this.frame.sendMessage("open"),(i.browser.isIE()||i.browser.isSafari())&&this.preventScrolling()},"state:LOADED":function(){this.frame.removeInlineStyle("visibility")},"frame:after:render":function(){i.browser.isSafari()&&this.triggerHostReflow()}},preventScrolling:function(){var e=this.getBodyOverflow(),n=s.body.style.marginRight,i=s.documentElement.style,r=i.overflow;this.listenToOnce(this,"frame:close",function(){this.setBodyStyles({overflow:e,marginRight:n}),i.overflow=r}),this.setBodyStyles({overflow:"hidden",marginRight:this.calcMargin(t(s.body,"margin-right","marginRight")||n)}),i.overflow="hidden"},triggerHostReflow:function(){var e=s.createElement("style");s.body.appendChild(e),s.body.removeChild(e)},calcMargin:function(e){var t=e.match(a);return t&&(e=t[1]),e?"calc("+e+" + "+i.getScrollbarWidth()+"px)":i.getScrollbarWidth()+"px"},setBodyStyles:function(e){for(var t in e)s.body.style[t]=e[t]},getBodyOverflow:function(){return s.body.style.overflow},getSecureOrigin:function(){var e=r.ensureHttpBasedProtocol("https://disqus.com/home/","https:"),t=e.split("/"),n=t[0],i=t[2];return n+"//"+i},getFrameSettings:function(){var e=o.prototype.getFrameSettings.call(this);return e.role="dialog",e.origin=this.getSecureOrigin(),e.styles={height:"100%",position:"fixed",top:0,right:0,left:"auto",bottom:"auto","z-index":i.MAX_Z_INDEX,visibility:"hidden"},e},getUrl:function(){var e=this.settings.path||"",t=this.settings.language,i={utm_source:"disqus_embed"};return t&&"en"!==t&&(i.l=t),n(r.apps[this.name]+e,i)},show:function(e){if(!this.frame.isReady())return void this.once("frame:ready",function(){this.show(e)},this);var t={path:e};this.settings.sso&&(t.sso=this.settings.sso),this.frame.sendMessage("showPath",t)}},{READY_TIMEOUT:1e4,getInstanceOrLoad:function(e){var t=l.instance;return t?t:(t=l.instance=new l(e),e.preload&&t.listenToOnce(t,"state:INIT",function(){t.frame.hide()}),l.setHomeTimeout(t),t.init(),t)},setHomeTimeout:function(e){l.homeTimeoutId&&clearTimeout(l.homeTimeoutId);var t=l.homeTimeoutId=setTimeout(function(){e.frame.destroy(),e.trigger("timeout")},l.READY_TIMEOUT);e.listenToOnce(e,"state:READY",function(){clearTimeout(t)})},preload:function(e){return e.preload=!0,l.getInstanceOrLoad(e)},destroy:function(){var e=l.instance;e&&(e.destroy(),l.instance=null)},show:function(e){var t=l.getInstanceOrLoad(e);return t.show(e.path),t}});return{show:l.show,preload:l.preload,destroy:l.destroy,_HomeApp:l}}(),O=function(){var t=e.document,n=i,r=S,o=Q,s=a,l=E,c=I,u=A.ThreadBoundApp,d=Y,f=_,h=w,g=x,p=u.extend({name:"lounge",loaderVersion:h.getLoaderVersionFromUrl("//a.disquscdn.com/next/embed/lounge.load.b98791869268dd98a49bb8187f4b3b14.js"),indicators:null,wasInViewport:!1,triggeredSlowEvent:!1,events:{"state:INIT":function(){var e=this.settings,t=e.server_side;t&&"fallback"===t.service&&h.logStat("embed.fallback"),e.unsupported||(this.indicators={},this.isContainerVisible()?this.addLoadingAnim():this.addLoadingAnimOnContainerVisible(),this.bindPublisherCallbacks(),this.forwardGlobalEvents())},"state:LOADED":function(){this.isContainerVisible()&&this.addLoadingAnim()},"frame:reload":function(){e.location.reload()},"frame:navigate":function(t){e.location.href=t},"frame:session.identify":function(e){this.trigger("session.identify",e)},"frame:posts.paginate":function(){this.trigger("posts.paginate")},"frame:posts.count":function(e){this.trigger("posts.count",e);

},"frame:posts.create":function(e){this.trigger("posts.create",{id:e.id,text:e.raw_message})},"frame:posts.beforeCreate":function(e){this.onBeforePostCreate(e)},"frame:home.destroy":function(){this.destroyHome()},"frame:home.preload":function(e){this.preloadHome(e)},"frame:home.show":function(e){this.showHome(e)},"frame:home.open":function(t){e.location=t},"frame:indicator:init":function(e,t){if(t.getOffset){for(var n,i,r=["north","south"],o=this.indicators,a=t.getOffset().width+"px",l={width:a,"min-width":a,"max-width":a,position:"fixed","z-index":h.MAX_Z_INDEX-1},c={north:{top:"0"},south:{bottom:"0"}},u=function(){t.sendMessage("indicator:click",this.uid.split("-")[1])},f=0;f<r.length;f++){i=r[f],n=new d.Sandbox({uid:"indicator-"+i,container:this.settings.container,contents:e[i].contents,styles:s(c[i],l),role:"alert",type:i});try{n.load()}catch(e){continue}n.hide(),n.click(u),o[i]=n}this.on({"frame:indicator:show":function(e){var t=o[e.type];t&&(t.document.getElementById("message").innerHTML=e.content,t.show())},"frame:indicator:hide":function(e){var t=e&&e.type,n=t&&o[t];if(n)n.hide();else if(!t)for(var i=0;i<r.length;i++)t=r[i],n=o[t],n&&n.hide()}})}},"frame:change:sort":function(e){h.storage.setItem("disqus.sort",e)},"frame:fail frame:rendered":function(){this.removeLoadingAnim(),this.setState("RUNNING")},"frame:fail":function(e){h.logStat("failed_embed.server."+e.code)},"frame:rendered":function(){this.triggeredSlowEvent&&h.logStat("rendered_embed.slow")}},onceEvents:{"frame:viglink:init":function(t,n){var i=function(){for(var t in e)if(0===t.indexOf("skimlinks")||0===t.indexOf("skimwords"))return!0;return!1};if(!(e.vglnk_self||e.vglnk||i())){var r=t.apiUrl,s=t.key,a=String(t.id);null!=t.clientUrl&&null!=r&&null!=s&&null!=t.id&&(this.listenForAffiliationRequests(r,s,a),DISQUS.vglnk={api_url:r,key:s,sub_id:a,onlibready:function(){n.sendMessage("viglink:change:timeout",{timeout:DISQUS.vglnk.opt("click_timeout")})}},e.vglnk_self="DISQUS.vglnk",o(t.clientUrl))}}},getFrameInitParams:function(t,n){var i=u.prototype.getFrameInitParams.call(this,t,n);return i.experiment={experiment:this.settings.experimentName,variant:this.settings.experimentVariant,service:this.settings.experimentService},i.isBehindClick=this.isHeightRestricted()||!l(n.elem),i.discovery=this.settings.discovery,this.settings.impressionId&&(i.impressionId=this.settings.impressionId),(this.settings.discoveryDisabled||r(e))&&(i.discoveryDisabled=!0),i},onBeforePostCreate:function(e){var t={text:e.raw_message};try{var n=this.settings.callbacks.beforeComment;if(n)for(var i=0;i<n.length;i++)t=n[i](t)}catch(e){f.log("Error processing Disqus callback: ",e.toString())}finally{this.frame.sendMessage("posts.beforeCreate.response",t&&t.text)}},destroyHome:function(){g.destroy()},preloadHome:function(e){e.path="home/preload/";var t=this.home=g.preload(this.getHomeData(e));this.listenToOnce(t,"frame:ready",function(){this.frame.sendMessage("home.ready")}),this.handleHomeTimeout(t)},handleHomeTimeout:function(e){this.listenTo(e,"timeout",function(){this.frame.sendMessage("home.timeout")})},showHome:function(e){var t=this.home=g.show(this.getHomeData(e));this.listenToOnce(t,"frame:openReady",function(){this.frame.sendMessage("home.opened")}),this.handleHomeTimeout(t)},getHomeData:function(e){var t=this.settings;return e.language||(e.language=t.language),t.apiKey&&t.remoteAuthS3&&(e.sso={apiKey:t.apiKey,remoteAuthS3:t.remoteAuthS3}),e},listenForAffiliationRequests:function(e,t,n){var i=this.frame;this.on("frame:viglink:getaffiliatelink",function(r){function o(e){return function(t){var n={linkId:e};t&&(n.url=t),i.sendMessage("viglink:getaffiliatelink:response",n)}}var s=DISQUS.vglnk.$;return s?void s.request(e+"/click",{format:"jsonp",out:r.url,key:t,loc:i.target,subId:n},{fn:o(r.linkId),timeout:DISQUS.vglnk.opt("click_timeout")}):void i.sendMessage("viglink:getaffiliatelink:response")})},forwardGlobalEvents:function(){var e=this;e.settings.windowName||(e.listenTo(d,"window.resize",function(){e.frame.sendMessage("window.resize")}),e.listenTo(d,"window.click",function(){e.frame.sendMessage("window.click")}),e.listenTo(d,"window.mousemove",function(){e.frame.sendMessage("window.mousemove")})),e.listenTo(d,"window.hashchange",function(t){e.frame.sendMessage("window.hashchange",t.hash)})},bindPublisherCallbacks:function(){var e=this,t=e.settings,i=p.LEGACY_EVENTS_MAPPING,r=t.callbacks;r&&n(r,function(t,r){i[r]&&n(t,function(t){e.on(i[r],t)})})},isContainerVisible:function(){var e=this.getViewportCoords(),t=d.getOffset(this.settings.container,this.getScrollContainer()),n=t.top+t.height-e.top;return n>0&&n<=e.height},pollFullyVisible:function(){if(!this.pollingFullVisibility){this.pollingFullVisibility=!0;var e=this.isHeightRestricted(),t={},n=this;c(function(){return n.frame&&n.frame.elem?e&&!n.rendered?!1:l(n.frame.elem)&&!n.isHeightRestricted({checkScrollHeight:!0}):t},function(e){e!==t&&(n.fullyVisible=!0,n.trigger("fullyVisible"))},this.constructor.VISIBILITY_POLL_INTERVAL)}},whenFullyVisible:function(e){this.pollFullyVisible(),this.fullyVisible?e():this.once("fullyVisible",e)},showSlowLoadingMessage:function(){var e,t=this;if(t.loadingElem){if(h.pageVisibility.isHidden())return e=function(){h.pageVisibility.stopListening(e),t.setSlowLoadingMessageTimer(2e3)},void h.pageVisibility.listen(e);t.triggeredSlowEvent=!0,h.logStat(t.state===t.constructor.states.READY?"slow_embed.got_ready":t.state===t.constructor.states.LOADED?"slow_embed.loaded":"slow_embed.no_ready"),t.loadingElem.firstChild.insertAdjacentHTML("afterend",'<p align="center">Disqus seems to be taking longer than usual. <a href="#" onclick="DISQUS.reset({reload: true}); return false;">Reload</a>?</p>')}},clearSlowLoadingMessageTimer:function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},setSlowLoadingMessageTimer:function(e){var t=this;t.clearSlowLoadingMessageTimer(),t.timeout=setTimeout(function(){t.showSlowLoadingMessage()},e)},addLoadingAnimOnContainerVisible:function(){var e,t=this;e=t.listenToScrollEvent(function(){var n=t.isContainerVisible();(n||t.state>=t.constructor.states.RUNNING)&&e(),n&&t.addLoadingAnim()})},addLoadingAnim:function(){var e,n,i,r=this,o=r.settings.container;if(r.loadingElem)return r.loadingElem;if(!(r.state>=r.constructor.states.RUNNING)){var s=t.createElement("link");s.rel="stylesheet",s.href="//a.disquscdn.com/next/embed/styles/loading.8023a7350e47171f7bb79707886cd7c5.css",t.head.appendChild(s),e=t.createElement("div"),n=t.createElement("div"),i=t.createElement("div"),n.appendChild(i),e.appendChild(n),e.dir="ltr",e.style.overflow="hidden";var a="dark"===r.settings.colorScheme;n.className="disqus-loader-bubble";var l=n.style;l.height="52px",l.width="54px",l.margin="0 auto",l.overflow="hidden",l.position="relative",a&&(l.backgroundPosition="0 -52px");var c=13,u=a?"rgba(223, 228, 237, .4)":"rgba(51, 54, 58, .4)",d=a?"#6D6F72":"#A3A7AD",f=i.style;return l.boxSizing=f.boxSizing="border-box",f.height=f.width=2*c+"px",f.position="absolute",f.top="13px",f.left="15px","borderRadius"in f?(f.borderWidth="3px",f.borderStyle="solid",f.borderColor=u+" transparent",f.borderRadius=c+"px",f.transformOrigin="50% 50% 0px",i.className="disqus-loader-spinner"):f.borderLeft="3px solid "+d,o.appendChild(e),r.loadingElem=e,h.logStat("lounge.loading.view"),r.setSlowLoadingMessageTimer(15e3),r.loadingElem}},removeLoadingAnim:function(){var e=this.loadingElem,t=this.settings.container;this.clearSlowLoadingMessageTimer(),e&&e.parentNode===t&&(t.removeChild(e),this.loadingElem=null)},destroy:function(){var e=this.indicators;this.removeLoadingAnim(),e&&e.north&&(e.north.destroy(),e.north=null),e&&e.south&&(e.south.destroy(),e.south=null),u.prototype.destroy.call(this)}},{LEGACY_EVENTS_MAPPING:{onReady:"frame:rendered",onNewComment:"posts.create",onPaginate:"posts.paginate",onCommentCountChange:"posts.count",onIdentify:"session.identify"}},{VISIBILITY_POLL_INTERVAL:500}),m=function(e){return new p(e)};return{Lounge:m}}(),L=function(e,t,n){var i,r,o,s,a,l=function(){var c=(new Date).getTime()-s;t>c&&c>=0?i=setTimeout(l,t-c):(i=null,n||(a=e.apply(o,r),i||(o=r=null)))};return function(){o=this,r=arguments,s=(new Date).getTime();var c=n&&!i;return i||(i=setTimeout(l,t)),c&&(a=e.apply(o,r),o=r=null),a}},k=function(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1},H=function(e,t,n){for(var i=0;i<e.length;++i)if(t.call(n,e[i],i,e))return!0;return!1},N=function(e){return"[object Function]"===Object.prototype.toString.call(e)},D=function(e){return function(t,n,i){var r=null===t||void 0===t?void 0:t[n];return void 0===r&&(r=i),e(r)?r.call(t):r}}(N),V=function(e){return Boolean(e&&1===e.nodeType)},$=function(e,t,n){return e.getElement=function(e){return t(e)?e:e&&e.el},e.EL_ID_ATTR="data-visibility-id",e.OBJ_ID_PROP="_visibility_id",e.getId=function(i){var r=null;return t(i)?(r=i.getAttribute(e.EL_ID_ATTR)||null,r||(r=n(),i.setAttribute(e.EL_ID_ATTR,r))):i&&(r=i[e.OBJ_ID_PROP]||null,r||(r=i[e.OBJ_ID_PROP]=n())),r},e.visiblePercent=function(e,t){var n=0;if(!t)return n;var i=e.top,r=i+e.height,o=t.visibleTop<i,s=t.visibleBottom>r;return!o&&!s||o&&s?n=1:o?n=(t.height-(i-t.visibleTop))/t.height:s&&(n=(r-t.visibleTop)/t.height),Math.round(100*n)},e}($,V,r),J=function(n,i,r,o,s,a){return a.events=[],a.lastPos=null,a.clearCache=function(e){if(e===t)a.getElementOffset.cache={};else{var n=s.getId(e);n&&(a.getElementOffset.cache[n]=null)}},a.calculateOffset=function(t){if(!t)return null;if(!r(t))return null;var n=t.ownerDocument.documentElement;return{height:t.offsetHeight,top:t.getBoundingClientRect().top+e.pageYOffset-(n.clientTop||0)}},a._getElementOffset=function(e){var t=s.getElement(e);if(!t)return null;var n=a.calculateOffset(t);return n?{visibleTop:n.top+(o(e,"topEdgeOffset")||0),visibleBottom:n.top+n.height-(o(e,"bottomEdgeOffset")||0),offsetTop:n.top,height:n.height}:null},a.getElementOffset=function(){var e=function(t){var n=e.cache,i=s.getId(t);if(i&&n[i])return n[i];var r=a._getElementOffset(t);return i&&r&&(n[i]=r),r};return e.cache={},e}(),a.EVENT_NAMES=["enter","exit","visible","invisible","all"],a.updateTracking=function(e){var r,o=function(e){return e?function(t){return e[t]}:function(){return t}};i(a.EVENT_NAMES,o(e._events))?(r=n(a.events,e),-1===r&&a.events.push(e)):(r=n(a.events,e),-1!==r&&a.events.splice(r,1))},a.processEvents=function(e){a.lastPos=e;var t=a.events;if(t.length)for(var n=t.length-1;n>=0;--n){var i=t[n],r=i.isVisible(e);null!==r&&(r!==i.lastVisible&&i.trigger(r?"enter":"exit",i,e),i.trigger(r?"visible":"invisible",i,e),i.lastVisible=r)}},a}(k,H,E,D,$,J),U=function(t,n,i,r,o,s,a){function l(e){return this instanceof l?(this.obj=e,void(this.lastVisible=!1)):new l(e)}var c=n(function(){a.processEvents(a.lastPos)},250);return s(l.prototype,t,{on:function(e){var n=!(this._events&&this._events[e]),i=t.on.apply(this,arguments);return n&&a.updateTracking(this),c(),i},off:function(e){var n=t.off.apply(this,arguments);return this._events&&this._events[e]||a.updateTracking(this),n},offset:function(){return a.getElementOffset(this.obj)},isVisible:function(e){if(e=e||a.lastPos,!e)return null;var t=e.top,n=t+e.height,i=this.offset();return i?i.offsetTop>=t&&i.visibleTop<n||i.offsetTop+i.height<=n&&i.visibleBottom>t:null},invalidate:function(){return a.clearCache(this.obj),this}}),s(l,{invalidate:a.clearCache,scroll:a.processEvents,_windowScrollHandlerBound:!1,_ignoreCache:!1,_windowScrollHandler:i(function(){l._ignoreCache&&l.invalidate(),a.processEvents({top:e.pageYOffset,height:e.document.documentElement.clientHeight})},250),bindWindowEvents:function(t){this._windowScrollHandlerBound||("undefined"!=typeof t&&(l._ignoreCache=t),r(e,"scroll",this._windowScrollHandler),r(e,"resize",this._windowScrollHandler),this._windowScrollHandlerBound=!0,this._windowScrollHandler())},unbindWindowEvents:function(){l._ignoreCache=!1,o(e,"scroll",this._windowScrollHandler),o(e,"resize",this._windowScrollHandler),this._windowScrollHandlerBound=!1}}),l}(o,L,d,c,u,a,J),M=function(e){return e}(U),X=function(e){return e=function(e,t){var n=null,i=!1;this.start=function(){i||(n=setTimeout(function(){i=!0,e()},t))},this.clear=function(){clearTimeout(n)}}}(X),B=function(){function e(e){if(e=Number(e),isNaN(e)||e>255)throw new Error("Color components should be numbers less than 256");return e=e.toString(16),1===e.length?"0"+e:String(e)}return function(t){return"#"+e(t.red)+e(t.green)+e(t.blue)}}(),P=function(){return function(t){"undefined"==typeof t&&(t=e.location.search);var n={};return z(t.substr(1).split("&"),function(e){var t=e.split("=").map(function(e){return decodeURIComponent(e.replace(/\+/g,"%20"))});t[0]&&(n[t[0]]=t[1])}),n}}(),R=function(){var t={},n=e.document.createElement("a");return t.getOrigin=function(e){n.href=e;var t=n.href.split("/");return t[0]+"//"+t[2]},t.getHostName=function(e){return n.href=e,n.hostname},t.getDomainPart=function(e,n){"undefined"==typeof n&&(n=0);var i=t.getHostName(e),r=i.split(".").reverse();return r[n]},t.getQuery=function(e){return n.href=e,n.search},t}(),q=function(){var n=C,i=w,r=A.WindowedApp,o=h,s=Y,l=U,c=$,u=S,d=X,f=B,g=a,p=P,m=K,v=R.getOrigin,y=R.getQuery,b={adsnative:160465,gravity:184723,taboola:184193,outbrain:185359},_=r.extend({name:"ads",origin:t,onceEvents:{"view:enter":function(){this._report({verb:"view",adverb:"0ms-no50perc"})},"view:iab":function(){this._report({verb:"view",adverb:"iab-scroll"})}},events:{"frame:ready":function(e){this.forumId=e.forumId,this._reportOnce({verb:"load"},"load"),this.bindViewEvents()},"frame:resize":function(e){this.frame.setInlineStyle("height",e.height+"px")},"frame:click":function(){this._reportOnce({verb:"click"},"click")},"frame:error-provider-not-ready":function(){this._report({verb:"fail",object_type:"provider",object_id:this.getProvider(),adverb:"provider_not_ready"})},"frame:error-no-height":function(){this._report({verb:"fail",object_type:"provider",object_id:this.getProvider(),adverb:"no_height"})}},constructor:function(){r.apply(this,arguments),this.origin=v(this.settings.adUrl),this._reportOnceHistory={}},init:function(){if(!u(e)&&(this.settings.forum=p(y(this.settings.adUrl)).shortname,this.settings.forum)){var t=this.settings.discovery,i=0===e.location.href.indexOf(n.apps.home);(i||!t||!t.disable_all&&!t.disable_promoted)&&(this._reportOnce({verb:"call",object_type:"provider",object_id:this.getProvider(),adjective:1},"call"),r.prototype.init.call(this))}},getProvider:function(){if(this._provider)return this._provider;var e=this.settings.adUrl.match(/provider=(\w+)/);return e&&(this._provider=e[1]),this._provider},getUrl:function(){var t=this.settings;return m(t.adUrl,{anchorColor:f(t.anchorColor),colorScheme:t.colorScheme,sourceUrl:e.document.location.href,typeface:t.typeface,canonicalUrl:t.canonicalUrl,disqus_version:"1a7cf18"})},bindViewEvents:function(){if(!this._viewEventsBound){this._viewEventsBound=!0,l.bindWindowEvents(!0);var e=this,t=function(t,n){e.postMessageDirect({event:t,percentViewable:n})},n=1e3,i=new d(function(){e.trigger("view:iab"),t("view:iab")},n),r=!1;this.listenTo(l({el:this.frame.elem}),{enter:function(){e.trigger("view:enter"),t("view:enter")},exit:function(){t("view:exit"),r&&(r=!1,t("view:50out"),i.clear())},visible:function(e,n){var o=c.visiblePercent(n,e.offset());o>=50&&!r?(r=!0,t("view:50in"),i.start()):50>o&&r&&(r=!1,t("view:50out"),i.clear()),t("view",o)}})}},postMessageDirect:function(e){this.frame.requiresWindow(function(e){var t=o.stringify(g({},e,{space:"disqus"}));s.WindowBase.postMessage(this.window,t,this.origin),s.WindowBase.postMessage(this.window,"disqus."+e.event,this.origin)})(e)},_report:function(t){var n=this.settings,r=this.getProvider(),o=b[r];t.forum_id=n.forumId||this.forumId,i.reportJester(g({imp:n.impressionId,experiment:n.experimentName,variant:n.experimentVariant,service:n.experimentService,bin:"embed:promoted_discovery:"+n.experimentService+":"+n.experimentName+":"+n.experimentVariant,area:n.placement,product:"embed",forum:n.forum,zone:"thread",version:i.getLoaderVersionFromUrl("//a.disquscdn.com/next/embed/lounge.load.b98791869268dd98a49bb8187f4b3b14.js"),page_url:e.document.location.href,page_referrer:e.document.referrer,object_type:"advertisement",object_id:"["+o+"]",provider:r,advertisement_id:o,ad_product_name:"iab_display",ad_product_layout:"iab_display",event:"activity",section:"default"},t))},_reportOnce:function(e,t){this._reportOnceHistory[t]||(this._report(e),this._reportOnceHistory[t]=!0)},getFrameSettings:function(){var e=r.prototype.getFrameSettings.call(this);return e.insertBeforeEl=this.settings.insertBeforeEl,e.insertAfterEl=this.settings.insertAfterEl,e}}),E=function(e){return new _(e)};return{Ads:E}}(),F=function(){var e=C,t=R,n=A,i=Y,r=n.WindowedApp.extend({events:{"frame:resize":function(e){var t=e.height+"px";this.frame.setInlineStyle({height:t,"min-height":t,"max-height":t})}},getFrameSettings:function(){var i={container:this.settings.container,contents:this.settings.engageLiteHTML},r=this.settings.engageLiteURL;return r&&(r=e.ensureHttpBasedProtocol(r,n.protocol),i.origin=t.getOrigin(r),i.target=r),i},getFrame:function(){var e=this.getFrameSettings(),t=e.target?i.Channel:i.Sandbox;return new t(e)}}),o=function(e){return new r(e)};return o}(),Z=function(t){var n=a,i=g,r=b.HostConfig,o=Y,s=_,l=w,c=O,u=q,d=F,f=new r(e);t.configAdapter=f;var h=[],p=!1,m=t.removeDisqusLink=function(){var t=e.document;if(t.getElementsByClassName){if("complete"!==t.readyState)return o.addEvent(e,"load",m);var n=t.getElementsByClassName("dsq-brlink"),i=n&&n.length&&n[0];i&&i.parentNode.removeChild(i)}};t.loadEmbed=function(e){if(h.length)return y({reload:!0}),s.log("Use DISQUS.reset instead of reloading embed.js please."),void s.log("See https://help.disqus.com/customer/portal/articles/472107-using-disqus-on-ajax-sites");f.configurator=e;var n=f.toJSON();p||(n.container.innerHTML="",p=!0),t.loadApps(n),t.removeDisqusLink()};var v=function(e){var t=c.Lounge(n({discoveryDisabled:e.topPlacementUrl||e.bottomPlacementUrl},e));h.push(t),t.init();var i=function(e){t.whenFullyVisible(e)},r=null;if(e.topPlacementUrl&&(r=u.Ads(n({adUrl:e.topPlacementUrl,placement:"top"},e,{insertBeforeEl:t.frame.elem})),h.push(r),i(function(){r.init()})),e.bottomPlacementUrl){var o=u.Ads(n({adUrl:e.bottomPlacementUrl,placement:"bottom"},e,{insertAfterEl:t.frame.elem}));h.push(o),i(function(){null===r?o.init():o.listenToOnce(r,"frame:ready",function(){o.init()})})}};t.loadApps=function(e){var t=e.engageLiteURL;if(t&&(t=t.replace(/__disqus_identifier__/g,encodeURIComponent(e.identifier||"")).replace(/__disqus_url__/g,encodeURIComponent(e.url||""))),e.engageLiteHTML||t){var r=new d(n({},e,{engageLiteURL:t}));h.push(r),r.init(),r.on("frame:click",i(function(){r.destroy(),v(e)}))}else v(e)};var y=t.reset=function(e){e=e||{};for(var n=h.pop();n;)n.triggeredSlowEvent&&n.state!==n.constructor.states.RUNNING&&l.logStat("reset_embed.slow"),n.destroy(),n=h.pop();e.reload&&t.loadEmbed(e.config)};return t}(Z),W=function(){var t=e.DISQUS||{},n=Q;t.reset||(t.reset=Z.reset),t.request||(t.request={}),t.request.get||(t.request.get=function(e,t,i){n(e,t,i)}),t.host||(t.host={}),t.host._loadEmbed||(t.host._loadEmbed=Z.loadEmbed),e.DISQUS=t}()}(this),this.DISQUS.host._loadEmbed();